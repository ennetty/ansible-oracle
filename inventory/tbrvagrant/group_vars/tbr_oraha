---
   configure_host_disks: true
   host_fs_layout:    

    - vgname: orabasevg
      state: present
      filesystem:
        - {mntp: /u01, lvname: orabaselv, lvsize: 35G, fstype: ext4}
      disk:
        - {device: /dev/sdb, pvname: /dev/sdb1}


   device_persistence: asmlib
   oracle_asm_init_dg: data

   asm_diskgroups:        # ASM Diskgroups used for DB-storage. Should map to dict asm_storage_layout. 
    - diskgroup: data
      properties:
        - {redundancy: external, ausize: 4}
      attributes:
        - {name: compatible.rdbms, value: 11.2.0.4.0}
        - {name: compatible.asm, value: "{{ oracle_install_version_gi }}"}
      disk:
        - {device: /dev/sdc, asmlabel: data01}
    - diskgroup: fra
      properties:
        - {redundancy: external, ausize: 4}
      attributes:
        - {name: compatible.rdbms, value: 11.2.0.4.0}
        - {name: compatible.asm, value: "{{ oracle_install_version_gi }}"}
      disk:
        - {device: /dev/sdd, asmlabel: fra01}


   oracle_install_version_gi: 12.2.0.1
   oracle_sw_image_gi_psu:
      - { filename: p27100009_122010_Linux-x86-64.zip, patchid: 27100009, version: 12.2.0.1, patchversion: 12.2.0.1.180116, description: GI-PSU-Jan-2018 }

   datafile_dest: "+DATA"
   recoveryfile_dest: "+FRA"

   rman_script_dir:                  /u01/app/oracle/rman/script
   rman_log_dir:                     /u01/app/oracle/rman/log

   rman_retention_policy:            "RECOVERY WINDOW OF 14 DAYS"
   rman_channel_disk:                "FORMAT   '/u10/rmanbackup/%d/%d_%T_%U'"
   rman_controlfile_autobackup_disk: "'/u10/rmanbackup/%d/%d_%F'"

   # RMAN-Catalog
   rman_catalog_host: localhost              # Hostname of RMAN-Cataloghost
   rman_catalog_service: orclpdb             # Service of RMAN-Catalogdatabase


   oracle_patch_list:
      - desc: "Database Release Update : 12.2.0.1.180116"
        patchid: 27105253
        subpath: 27100009
        version: 12.2.0.1
        opatchauto: True
        ORACLE_HOME:
           - path: /u01/app/oracle/12.2.0.1/db1
             apply: True

   oracle_databases:                                            # Dictionary describing the databases to be installed
        - home: db1                                            # 'Last' directory in ORACLE_HOME path (e.g /u01/app/oracle/12.1.0.2/racdb)
          oracle_version_db: 12.2.0.1                          # Oracle versiono
          oracle_edition: EE                                   # The edition of database-server (EE,SE,SEONE)
          oracle_db_name: orclcdb                               # Database name
          dbca_templatename: tbr_dbca.dbc
          oracle_db_passwd: Oracle123                          # Passwords (sys/system/dbsnm etc)
          oracle_db_type: SI                                  # Type of database (RAC,RACONENODE,SI)
          is_container: true                                  # (true/false) Is the database a container database
          pdb_prefix: orclpdb
          num_pdbs: 1
          storage_type: ASM                                    # Database storage to be used. ASM or FS.
          service_name: orcldb_serv                             # Inital service to be created (not in use yet)
          oracle_db_mem_totalmb: 1024                          # Amount of RAM to be used for SGA
          oracle_database_type: MULTIPURPOSE                   # MULTIPURPOSE|DATA_WAREHOUSING|OLTP
          oracle_init_params:
          redolog_size_in_mb: 100
          state: present

          # RMAN-Catalogconnect
          rman_user: rmancat
          rman_password: rman
          rman_tnsalias: orclpdb
          rman_wallet: True

          rman_jobs:
            - name: parameter
            - name: archivelog_enable
            - name: archivelog
              disabled: False
              day: "*"
              weekday: "*"
              hour: "*"
              minute: "10"
            - name: online_level0
              disabled: False
              day: "*"
              weekday: "0"
              hour: "02"
              minute: "30"
            - name: online_level1
              disabled: False
              day: "*"
              weekday: "1-6"
              hour: "02"
              minute: "30"

